<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Media Gallery | project.docs</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet" />
    <style>
      /* [EXISTING ROOT & BODY STYLES REMOVED FOR BREVITY - KEEP YOUR ORIGINALS] */
      :root {
        --clr-blue: #2565fa; --clr-green: #198754; --clr-indigo: #6610f2;
        --clr-red: #eb4959; --clr-amber: #f59f0be7; --clr-grey: #64748b;
        --tile-bg-light: #f8fafc; --tile-bg-dark: #1e293b; --app-corner-radius: 0.4rem;
      }
      body { font-family: "Inter", sans-serif; background-color: #f8fafc; transition: all 0.3s; }
      [data-bs-theme="dark"] body { background-color: #020617 !important; color: #f8fafc; }
      
      /* FRAMEWORK COMPONENTS */
      .bg-white-card { 
        background-color: var(--tile-bg-light); border: 1px solid #e2e8f0; 
        border-radius: var(--app-corner-radius); height: 100%; position: relative;
        overflow: hidden; transition: transform 0.3s ease;
      }
      [data-bs-theme="dark"] .bg-white-card { background-color: var(--tile-bg-dark) !important; border-color: #334155; }
      .brand-line { border-bottom: 2px solid rgba(0, 0, 0, 0.05) !important; }
      [data-bs-theme="dark"] .brand-line { border-bottom-color: rgba(255, 255, 255, 0.1) !important; }

      /* MEDIA SPECIFIC OVERRIDES */
      .media-container { position: relative; width: 100%; height: 100%; min-height: 200px; }
      .media-video { width: 100%; height: 100%; object-fit: cover; }
      .media-audio-player { width: 100%; margin-top: auto; filter: invert(0.1); }
      [data-bs-theme="dark"] .media-audio-player { filter: invert(0.8); }
      
      .ui-tag {
        display: inline-flex; padding: 0.25rem 0.75rem; border-radius: 50px;
        font-size: 0.6rem; font-weight: 700; text-transform: uppercase;
        position: absolute; top: 1rem; left: 1rem; z-index: 10;
      }
      .tag-media { background: rgba(0,0,0,0.7); color: #fff; backdrop-filter: blur(4px); border: none; }
    </style>
  </head>
  <body>
    <main class="main-container container py-4">
      <header class="d-flex justify-content-between align-items-end brand-line mb-4 pb-2">
        <div class="d-flex align-items-center gap-3">
          <a href="index.html" class="text-decoration-none d-flex flex-column">
            <span class="text-secondary" style="font-size: 0.65rem; letter-spacing: 0.08em; text-transform: uppercase;">
              Back to Architecture
            </span>
            <span style="color: var(--clr-amber); font-size: 1.5rem; font-weight: 400;">media.archive</span>
          </a>
        </div>
        <div class="status-pill mb-1 d-none d-md-block" style="font-size: 0.6rem; border: 1px solid #64748b33; padding: 2px 10px; border-radius: 50px;">
            MEDIA_SYNC_ACTIVE
        </div>
      </header>

      <section class="mb-5">
        <div class="d-flex align-items-center gap-2 mb-3">
            <i data-lucide="layers" class="text-indigo" style="width: 20px;"></i>
            <h2 class="fs-6 fw-bold text-uppercase mb-0" style="letter-spacing: 0.1em; color: var(--clr-indigo);">Project Alpha: Site Survey</h2>
        </div>

        <div class="row g-3">
          <div class="col-md-8">
            <div class="bg-white-card border-indigo bw-1">
              <span class="ui-tag tag-media">Video / 4K</span>
              <div class="media-container" style="min-height: 350px;">
                <video class="media-video" controls poster="https://res.cloudinary.com/dqwm4pdbz/image/upload/v1768348966/my-express-uploads/rug6vgm5rarpytlsdkw2.jpg">
                  <source src="https://res.cloudinary.com/demo/video/upload/f_auto:video,q_auto/dog.mp4" type="video/mp4">
                </video>
              </div>
              <div class="p-3">
                <h3 class="fs-5 fw-bold mb-1">Site Overview Aerial</h3>
                <p class="small text-secondary mb-0">Full-scale drone survey of the primary architectural footprint.</p>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="bg-white-card border-grey bw-1">
              <span class="ui-tag tag-media">Reference</span>
              <div style="height: 100%; background-image: url('https://res.cloudinary.com/dqwm4pdbz/image/upload/v1768348966/my-express-uploads/rug6vgm5rarpytlsdkw2.jpg'); background-size: cover; background-position: center; min-height: 400px;"></div>
            </div>
          </div>
        </div>
      </section>

      <section class="mb-5">
        <div class="d-flex align-items-center gap-2 mb-3">
            <i data-lucide="mic" class="text-red" style="width: 20px;"></i>
            <h2 class="fs-6 fw-bold text-uppercase mb-0" style="letter-spacing: 0.1em; color: var(--clr-red);">Strategic Briefings</h2>
        </div>

        <div class="row g-3">
          <div class="col-md-4">
            <div class="p-4 bg-white-card border-red soft-tint-red bw-1 d-flex flex-column">
              <span class="ui-tag tag-red tag-cutout" style="position:static; width:fit-content; margin-bottom:1rem;">Audio Log</span>
              <h3 class="fs-6 fw-bold">Executive Summary</h3>
              <p class="small text-secondary mb-4">Financial quarter projections and management commentary.</p>
              <audio controls class="media-audio-player">
                <source src="https://res.cloudinary.com/demo/video/upload/f_auto,q_auto/horse.mp3" type="audio/mpeg">
              </audio>
            </div>
          </div>

          <div class="col-md-4">
            <div class="bg-white-card border-amber bw-1 tile-img-bg" style="background-image: url('https://res.cloudinary.com/dqwm4pdbz/image/upload/v1766157692/Business_1_Newspaper_y988h0.jpg'); height: 100%; min-height: 250px;">
                <div class="p-4 d-flex flex-column h-100" style="background: rgba(0,0,0,0.4); backdrop-filter: grayscale(1);">
                    <span class="ui-tag tag-amber tag-cutout mb-2" style="position:static;">Analysis</span>
                    <h3 class="fs-5 fw-bold text-white mt-auto">Quarterly Print Dev</h3>
                </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="bg-white-card border-blue bw-1" style="background-image: url('https://res.cloudinary.com/dqwm4pdbz/image/upload/v1767216761/my-express-uploads/cbsjn95wtojb2lwvvxcz.png'); background-size: cover; height: 100%;">
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="custom-footer mt-auto py-5 container">
        <div class="brand-line mb-4"></div>
        <div class="d-flex justify-content-between align-items-center">
            <div class="footer-brand" style="color: var(--clr-amber);">project.docs</div>
            <div class="small text-secondary">Â© <span id="year"></span> M.K. Mueller</div>
        </div>
    </footer>

    <script>
      /**
       * Injects Cloudinary optimization parameters into <img> and <video> tags
       * f_auto: choose best format | q_auto: choose best compression
       */
      function optimizeCloudinaryLinks() {
        const mediaElements = document.querySelectorAll('img, source, video');
        mediaElements.forEach(el => {
          let src = el.src || el.getAttribute('src');
          if (src && src.includes('cloudinary.com')) {
            // Checks if it's a standard upload link and hasn't been transformed yet
            if (src.includes('/upload/') && !src.includes('/f_auto')) {
               const optimizedSrc = src.replace('/upload/', '/upload/f_auto,q_auto/');
               if (el.tagName === 'SOURCE') {
                 el.src = optimizedSrc;
               } else {
                 el.setAttribute('src', optimizedSrc);
               }
            }
          }
        });
      }

      document.getElementById("year").textContent = new Date().getFullYear();
      
      // Theme Toggle Logic (System Preference)
      const setTheme = () => {
        const isDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        document.documentElement.setAttribute("data-bs-theme", isDark ? "dark" : "light");
      };

      setTheme();
      window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", setTheme);
      
      // Run optimization on load
      window.addEventListener('DOMContentLoaded', optimizeCloudinaryLinks);
    </script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>lucide.createIcons();</script>
  </body>
</html>